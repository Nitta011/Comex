package br.com.comex.modelo;

import br.com.comex.enums.TipoDesconto;

public class ItemPedido {
	private static long ProximoID = 1;
	private long ID;
	private double PrecoUnitario;
	private int Quantidade;
	private Pedido pedido;
	private double Desconto;
	private TipoDesconto tipoDesconto;
	private double PrecoSemDesconto;
	private double PrecoFinal;
	
	
	public ItemPedido(long ID, double PrecoUnitario, int Quantidade,Cliente cliente, Produto produto, Pedido pedido, TipoDesconto desconto) {
		if (ID != ProximoID) {
			String msg = "ID inv√°lido!  " + ID;
			throw new IllegalArgumentException(msg);
		}
		this.ID = ID;
		this.PrecoUnitario = PrecoUnitario;
		this.Quantidade = Quantidade;
		this.pedido = pedido;
		this.Desconto = Desconto;
		ProximoID++;
		
		
	}

	public ItemPedido(double PrecoUnitario, int Quantidade, Cliente cliente, Produto produto, Pedido pedido,
			TipoDesconto desconto) {

		this.ID = ProximoID;
		this.PrecoUnitario = PrecoUnitario;
		this.Quantidade = Quantidade;
		this.pedido = pedido;
		this.Desconto = Desconto;
		ProximoID++;
		
		
	}
	public void PrecoSemDesconto() {
		PrecoSemDesconto = PrecoUnitario * Quantidade;
	}
	
	public void CalculaDesconto() {
		if(tipoDesconto == TipoDesconto.NENHUM) {
			Desconto = 0.0;
			PrecoFinal = (Desconto * PrecoUnitario * Quantidade);
		} else if (tipoDesconto == TipoDesconto.PROMOCAO) {
			Desconto = 0.2;
			PrecoFinal = Desconto * PrecoUnitario * Quantidade;
		} else if (tipoDesconto == TipoDesconto.QUANTIDADE) {
			Desconto = 0.1;
			PrecoFinal = Desconto * PrecoUnitario * Quantidade;
		}
		
	}

	public double getPrecoFinal() {
		return PrecoFinal;
	}
	
	public static long getProximoID() {
		return ProximoID;
	}

	public long getID() {
		return ID;
	}

	public double getPrecoUnitario() {
		return PrecoUnitario;
	}

	public int getQuantidade() {
		return Quantidade;
	}

	public Pedido getPedido() {
		return pedido;
	}

	public double getDesconto() {
		return Desconto;
	}

	public TipoDesconto getTipoDesconto() {
		return tipoDesconto;
	}
	
}
